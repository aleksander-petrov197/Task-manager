<div class="container">
    <div class="auth-card">
        <h2>Login</h2>

        @if (errorMessage) {
            <div class="error-banner">
                {{ errorMessage }}
            </div>
        }

        <form (submit)="onLogin()">
            <div class="form-group">
                <input type="email" [(ngModel)]="email" name="email" (input)="errorMessage = ''" (focus)="emailVar.control.markAsUntouched()"
                       #emailVar="ngModel" placeholder="Email Address" required email>
                <span *ngIf="emailVar.invalid && emailVar.touched" class="error-text">
                    Please enter a valid email.
                </span>
            </div>

            <div class="form-group">
                <input type="password" [(ngModel)]="password" name="password" (input)="errorMessage = ''" (focus)="passVar.control.markAsUntouched()"
                       #passVar="ngModel" placeholder="Password" minlength="8" required>
                <span *ngIf="passVar.invalid && passVar.touched" class="error-text">
                    Password is required.
                </span>
            </div>

            <button type="submit" [disabled]="emailVar.invalid || passVar.invalid">
                Enter Task Tracker
            </button>
        </form>

        <p class="switch-link">New Here? <a routerLink="/register">Create an account</a></p>
    </div>
</div>